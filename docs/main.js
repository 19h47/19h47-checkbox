!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Checkbox=t():e.Checkbox=t()}(self,(function(){return function(){"use strict";var e={d:function(t,i){for(var s in i)e.o(i,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:i[s]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{CheckboxGroup:function(){return c},default:function(){return n}});const i=(e,t)=>{t.forEach((t=>e.dispatchEvent(new Event(t,{bubbles:!0}))))};class s{constructor(e){this.$input=null,this.checked=!1,this.disabled=!1,this.handleClick=()=>this.toggle(),this.handleKeydown=e=>{const{key:t,code:i}=e,s={Space:()=>{this.toggle(),e.stopPropagation(),e.preventDefault()},default:()=>!1};return(s[t||i]||s.default)()},this.el=e}init(){var e;return null===this.el?null:(this.$input=this.el.querySelector("input"),this.checked=JSON.parse(this.el.getAttribute("aria-checked")),this.disabled=JSON.parse(this.el.getAttribute("aria-disabled")),this.checked||this.el.setAttribute("aria-checked","false"),(null===(e=this.$input)||void 0===e?void 0:e.checked)&&this.activate(),this.initEvents())}initEvents(){this.el.addEventListener("keydown",this.handleKeydown),this.el.addEventListener("click",this.handleClick),this.el.addEventListener("blur",(()=>this.el.classList.remove("is-focus"))),this.el.addEventListener("focus",(()=>this.el.classList.add("is-focus")))}toggle(){return this.checked?this.deactivate():this.activate(),this.$input?i(this.$input,["input","change"]):null}activate(e=!0){return!this.checked&&!this.disabled&&(this.checked=!0,this.el.classList.add("is-selected"),this.el.setAttribute("aria-checked","true"),this.$input&&(this.$input.checked=!0,this.$input.setAttribute("checked","true")),e&&this.$input&&i(this.$input,["activate"]),!0)}deactivate(e=!0){return!!this.checked&&(this.checked=!1,this.el.classList.remove("is-selected"),this.el.setAttribute("aria-checked","false"),this.$input&&(this.$input.checked=!1,this.$input.removeAttribute("checked")),e&&this.$input&&i(this.$input,["deactivate"]),!0)}}class c{constructor(e){this.checkboxes=[],this.lastChecked=null,this.handleCheck=e=>{const{currentTarget:t,shiftKey:i}=e,s=!0===JSON.parse(null==t?void 0:t.getAttribute("aria-checked"));let c=!1;i&&s&&this.checkboxes.forEach((e=>{const{el:i}=e;i!==t&&i!==this.lastChecked||(c=!c,console.log("Starting to check them in between!")),c&&e.activate()})),this.lastChecked=t},this.el=e}init(){this.checkboxes=[...this.el.querySelectorAll('[role="checkbox"]')].map((e=>{const t=new s(e);return t.init(),t})),this.initEvents()}initEvents(){this.checkboxes.forEach((e=>e.el.addEventListener("click",this.handleCheck,!1)))}}var n=s;return t}()}));